{% extends 'base.html' %}

{% block head %}
<title>Contacts Master</title>
{% endblock %}

{% block body %}

<div class="content">
    <h1 style="text-align: center">Contacts Master</h1>
    {% if contacts|length < 1 %}
    <h4 style="text-align: center">There are no contacts. Create one below!</h4>
    {% else %}
    <table>
        <form action="/" method="post">
            <tr>
                {% if sort == 'Name ↑' %}
                <th><input class="sort_option" type="submit" name="sort_option" value="Name ↓"></th>
                {% else %}
                <th><input class="sort_option" type="submit" name="sort_option" value="Name ↑"></th>
                {% endif %}
                {% if sort == 'Email ↑' %}
                <th><input class="sort_option" type="submit" name="sort_option" value="Email ↓"></th>
                {% else %}
                <th><input class="sort_option" type="submit" name="sort_option" value="Email ↑"></th>
                {% endif %}
                {% if sort == 'Phone ↑' %}
                <th><input class="sort_option" type="submit" name="sort_option" value="Phone ↓"></th>
                {% else %}
                <th><input class="sort_option" type="submit" name="sort_option" value="Phone ↑"></th>
                {% endif %}
                <th>Actions</th>
            </tr>
        </form>
        {% for contact in contacts %}
            <tr>
                <td>{{ contact.name }}</td>
                <td>{{ contact.email }}</td>
                <td>{{ contact.phone_number }}</td>
                <td class = "actions">
                    <a href="/delete/{{contact.contact_id}}">Delete</a>
                    <br>
                    <a href="/update/{{contact.contact_id}}">Update</a>
                </td>
            </tr>
        {% endfor %}
    </table>
    {% endif %}

    <div class="form">
        <form action="/add_contact" method="POST">
            <input class="form_input" type="text" name="name" id="name">
            <input class="form_input" type="text" name="email" id="email">
            <input class="form_input" type="text" name="phone_number" id="phone_number">
            <input type="submit" value="Add Contact">
        </form>
    </div>
</div>
{% endblock %}